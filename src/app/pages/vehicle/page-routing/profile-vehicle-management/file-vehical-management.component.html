<div style="background-color: #f3f3f3;">

    <form nz-form nzGutter="16" class="w-full" nzLayout="vertical" (ngSubmit)="search()" [formGroup]="form" style="background-color: #f3f3f3;">
        <div class="mx-4">

            <div class="" nz-row style="margin-bottom: 22px;">

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">{{'vehicle.router' | translate}} </label>
                        <div class="w-full">
                            <nz-select nzPlaceHolder="Tất cả" formControlName="routeId" style="width: 100%;">
                                <nz-option nzValue="" nzLabel="Tất cả"></nz-option>
                                <nz-option *ngFor="let data of listRoute" [nzValue]="data.id" [nzLabel]="data.name"></nz-option>
                            </nz-select>
                        </div>
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">BKS</label>
                        <input nz-input class="form-input" formControlName="registerNo" placeholder="ID, Tên nhân sự, SĐT..." style="width: 100%;" />
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">Lái xe</label>
                        <input nz-input class="form-input" formControlName="driverName" placeholder="ID, Tên nhân sự, SĐT..." style="width: 100%;" />
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">SĐT</label>
                        <input nz-input class="form-input" formControlName="phoneNumber" placeholder="ID, Tên nhân sự, SĐT..." style="width: 100%;" />
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">Hãng xe</label>
                        <nz-select nzPlaceHolder="Tất cả" formControlName="vehicleModel" style="width: 100%;" style="width: 100%;">
                            <nz-option nzValue="" nzLabel="Tất cả"></nz-option>

                            <nz-option *ngFor="let data of listManufacture" [nzValue]="data" [nzLabel]="data"></nz-option>


                            <!-- <nz-option nzValue="" nzLabel="Tất cả"></nz-option>
                            <nz-option *ngFor="let office of listOffice" [nzValue]="office.id"
                                [nzLabel]="office.name"></nz-option> -->

                        </nz-select>
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">Năm sản xuất</label>
                        <nz-select nzPlaceHolder="Tất cả" formControlName="yearOfManufacture" style="width: 100%;">
                            <nz-option nzValue="" nzLabel="Tất cả"></nz-option>

                            <nz-option *ngFor="let data of listManufactureYears" [nzValue]="data" [nzLabel]="data"></nz-option>

                        </nz-select>
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">Mục đích sử dụng</label>
                        <div>
                            <nz-select nzPlaceHolder="Tất cả" formControlName="identedUser" style="width: 100%;">
                                <nz-option nzValue="" nzLabel="Tất cả"></nz-option>

                                <nz-option nzValue="1" nzLabel="Xe tuyến"></nz-option>
                                <nz-option nzValue="2" nzLabel="Xe trung chuyển"></nz-option>
                                <!-- <nz-option nzValue="" nzLabel="Tất cả"></nz-option>
                                <nz-option *ngFor="let department of listDepartment, let i =index"
                                    [nzValue]="department.id" [nzLabel]="department.name"></nz-option> -->

                            </nz-select>
                        </div>
                    </div>
                </div>
            
            </div>
        </div>

        <div class="flex justify-center m-2" style="min-width: 335px; ">
            <span>
                <button class="button" type="button" nz-button nzType="default" style="border-color: #274ea1; min-width: 160px;" type="button"
                    (click)="resetForm()">
                    <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.66667 17.5V12.5H11.3333V14.1667H18V15.8333H11.3333V17.5H9.66667ZM3 15.8333V14.1667H8V15.8333H3ZM6.33333 12.5V10.8333H3V9.16667H6.33333V7.5H8V12.5H6.33333ZM9.66667 10.8333V9.16667H18V10.8333H9.66667ZM13 7.5V2.5H14.6667V4.16667H18V5.83333H14.6667V7.5H13ZM3 5.83333V4.16667H11.3333V5.83333H3Z"
                            fill="#274EA1" />
                    </svg>

                    <span style="color: #274ea1;">
                        Xóa bộ lọc
                    </span>
                </button>
            </span>
            <span class="ml-2">
                <button class="button" type="submit" style="background-color: #274ea1; color:  #f7f7f7;" nz-button
                    nzType="default">Tìm
                    kiếm</button>
            </span>
        </div>
    </form>

    <span class="mx-4" style="margin-top: 50px; font-size: 14px; color: rgba(37, 44, 50, 1); font-weight: 500;">{{'vehicle.prepareToExpire' | translate}}</span>

    <div nz-row class="mx-4" style="margin-top: 15px;"> 
        <div class="prepare-to-expire">
            <button type="button" class="prepare-to-expire-item" *ngFor="let data of listPrepareToExpire" (click)="searchDocumentsNearingExpiration(data.code)">
                <span class="">
                    {{data.value}} <span style="color: rgba(227, 60, 60, 1);">({{data.quantity}})</span>
                </span>
            </button>
        </div>
    </div>
    <div nz-row style="margin-top: 32px;" class="mx-4">
        <div nz-col nzSpan="24">
            <table class="custom-table-list" style="background-color: #FCFCFC;">
                <tbody>
                    <tr style="background-color: #fcfcfc; text-align: center;" >
                        <th class="list-col-1">STT</th>
                        <th class="list-col-2">Tuyến</th>
                        <th class="list-col-2">Biển kiểm soát</th>
                        <th class="list-col-2">Loại xe</th>
                        <th class="list-col-2">Năm sản xuất</th>
                        <th class="list-col-2">Lái xe</th>
                        <th class="list-col-2">SĐT</th>
                        <th class="list-col-2">Mục đích sử dụng</th>
                        <th class="list-col-3">Tác vụ</th>

                    </tr>
                    <tr *ngFor="let data of  showEmpolyeeNoData()" style="text-align: center;"  >
                    <!-- <tr  style="text-align: center;"> -->

                        <td class="list-col-1">{{data.id || '-'}}</td>
                        <td class="list-col-3" style="text-align: left !important; ">{{data.routeName || '-'}}</td>
                        <td class="list-col-1" style="text-align: left !important; padding-left: 10px;">{{data.registerNo || '-'}}</td>
                        <td class="list-col-2">{{data.manufacturer || '-'}}</td>
                        <td class="list-col-2">{{data.manufactureYear || '-'}}</td>
                        <td class="list-col-2">{{data.driverName || '-'}}</td>
                        <td class="list-col-2">{{data.phoneNumber || '-'}}</td>
                        <td class="list-col-2">
                            <span *ngIf="data.intendedUse == 1">{{'vehicle.routerVehicle' | translate}}</span>
                            <span *ngIf="data.intendedUse == 2">{{'vehicle.transitVehicle' | translate}}</span>

                        </td>

                        <td class="list-col-3 button_action">
                            <div>
                                <a *ngIf="data.id" (click)="detailVehical(data.id)" class="mx-1 button_show_detail">
                                    Xem chi tiết
                                </a>
                                <span *ngIf="!data.id" class="mx-1">
                                    -
                                </span>
                            </div>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>


    <div style="display: flex; justify-content: center; margin-top: 16px;">
        <nz-pagination [(nzPageIndex)]="pageIndex" [nzTotal]="total" [nzPageSize]="pageSize"
            (nzPageIndexChange)="onPageChange($event)" class="custom-pagination">
        </nz-pagination>
    </div>

</div>

<!-- 
<nz-modal [(nzVisible)]="isModalOnLeaveEmployee" (nzOnCancel)="handleCancel()" (nzOnOk)="handleSubmit()"
    [nzContent]="modalContent" [nzFooter]="null" [nzStyle]="{'min-width' : '1200px', 'min-height':'580px','margin-top': '205px'}">
    <ng-template #modalContent>
        <div class="headmodal">
            <span style="font-weight: 500; font-size: 24px; ">Tạo lịch nghỉ phép</span>
        </div>
        <div nz-row>
            <div nz-col nzSpan="24">
                <div nz-col nzSpan="23" class="mx-4">
                    <table class="custom-table">
                        <tbody>
                            <tr style="background-color: #f4f7fb;">
                                <th style="text-align: center;" class="list-col-1">ID</th>
                                <th class="list-col-2">Tên nhân viên</th>
                                <th style="text-align: center;" class="list-col-3">Năm sinh</th>
                                <th style="text-align: center;" class="list-col-4">SĐT</th>
                                <th style="text-align: center;" class="list-col-3">Trực thuộc quản lý</th>
                                <th style="text-align: center;" class="list-col-4">Chi nhánh</th>
                                <th style="text-align: center;" class="list-col-3">Bộ phận</th>
                            </tr>
                            <tr *ngIf="selectedEmployee">
                                <td style="text-align: center;" class="list-col-1">{{selectedEmployee.code || '-'}}</td>
                                <td class="list-col-2">{{ selectedEmployee.name || '-' }}</td>
                                <td style="text-align: center;" class="list-col-3">{{ selectedEmployee.yearOfBirth || '-' }}</td>
                                <td style="text-align: center;" class="list-col-4">{{ selectedEmployee.phoneNumber  || '-' }}</td>
                                <td style="text-align: center;" class="list-col-3">{{ selectedEmployee.officeName  || '-' }}</td>
                                <td style="text-align: center;" class="list-col-4">{{ selectedEmployee.branchName  || '-' }}</td>
                                <td style="text-align: center;" class="list-col-3">{{ selectedEmployee.departmentName  || '-' }}</td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div style="margin-top: 22px;">
        </div>
        <div style="display: flex; justify-content: center;">
            <span style="font-weight: 500 ;color: rgba(239, 68, 68, 1); font-size: 14px;" *ngIf="workingStatusNum === 2">{{'working.relaxing' | translate}} {{leaveFromDate | date: 'dd/MM/yyyy'}} - {{leaveToDate | date: 'dd/MM/yyyy'}}</span>
        </div>
        <div style="margin-top: 22px;">
        </div>
        <form [formGroup]="formOnLeave">
            <div nz-row >
                <div nz-row class="w-full" style="display: flex; justify-content: center;">
                    <div nz-col nzSpan="18">
                        <div nz-row class="w-full" >
                            <div nz-col style="width: 30%;">
                                <div class="">
                                    <label class="form-label"> <span style="color: red;">*</span>Từ ngày</label>
                                    <div>
                                        <nz-date-picker class="w-full"
                                            nzFormat="dd/MM/yyyy" (ngModelChange)="onDateChange($event)" [nzDisabledDate]="disableFromDate"
                                            formControlName="fromDate" nzPlaceHolder="Chọn ngày"></nz-date-picker>
                                        <div style="height: 18px;">
                                            <div *ngIf="formOnLeave.get('fromDate')?.touched" style="height: 20px;">
                                                <span class="validate_input"
                                                    *ngIf="formOnLeave.get('fromDate')?.errors?.['required']">Phải chọn ngày</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div style="margin-left: 10px; width: 30%;" >
                                <div >
                                    <label class="form-label"><span style="color: red;">*</span>Đến ngày</label>
                                    <div>
                                        <nz-date-picker class="w-full" [nzDisabledDate]="disableIntoToDate"
                                            nzFormat="dd/MM/yyyy" (ngModelChange)="onDateChange($event)"
                                            formControlName="toDate" nzPlaceHolder="Chọn ngày" ></nz-date-picker>
                                            <div style="height: 18px;">
                                                <div *ngIf="formOnLeave.get('toDate')?.touched">
                                                    <span class="validate_input"
                                                        *ngIf="formOnLeave.get('toDate')?.errors?.['required']">Phải chọn ngày</span>
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <div style="margin-left: 10px; width: 30%;">
                                <div class="">
                                    <span style="color: red;" >*</span><label class="label-form" for="" >{{'employee.reason_off' | translate}}</label>
                                    <input nz-input style="margin-top: 8px;" class="form-input" formControlName="reason" placeholder="ID, Tên nhân sự, SĐT..."  />
                                    <div class="error-container">
                                        <div *ngIf="formOnLeave.get('reason')?.invalid && (formOnLeave.get('reason')?.dirty || formOnLeave.get('reason')?.touched)">
                                            <span class="validate_input" *ngIf="formOnLeave.get('reason')?.errors?.['required']">{{'required.reason' | translate}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div style="margin-top: 42px;">
        </div>
        <div nz-row style="display: flex; justify-content: center;">
            <span>
                <button (click)="isModalOnLeaveEmployee = false" class="button-infor" nz-button style="color: #274EA1; border-color: #274EA1;" nzType="default">Hủy</button>
            </span>
            <span class="ml-2">
                <button (click)="updateWorkStatus()" class="button-infor" style="background-color: #274EA1; color: white;" nz-button nzType="default"
                    >Lưu</button>
            </span>
        </div>
    </ng-template>
</nz-modal> -->
