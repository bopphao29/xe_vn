<div style="background-color: #f3f3f3;">
    
    <form nz-form nzGutter="16" class="w-full" nzLayout="vertical" (ngSubmit)="search()" [formGroup]="form" style="background-color: #f3f3f3;">
        <div class="mx-4">

            <div class="" nz-row style="margin-bottom: 22px;">

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">{{'vehicle.router' | translate}} </label>
                        <div class="w-full">
                            <nz-select nzPlaceHolder="Tất cả" formControlName="routeId" style="width: 100%;">
                                <nz-option nzValue="" nzLabel="Tất cả"></nz-option>
                                <nz-option *ngFor="let data of listRoute" [nzValue]="data.id" [nzLabel]="data.name"></nz-option>
                            </nz-select>
                        </div>
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">BKS</label>
                        <input nz-input class="form-input" style="text-transform: uppercase; width: 100%; height: 48px !important;" formControlName="registerNo" placeholder="Nhập..."/>
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">Loại xe</label>
                        <nz-select nzPlaceHolder="Tất cả" formControlName="vehicleTypeId" style="width: 100%;" >
                            <nz-option nzValue="" nzLabel="Tất cả"></nz-option>

                            <nz-option *ngFor="let data of listManufacture" [nzValue]="data" [nzLabel]="data"></nz-option>
                        </nz-select>
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">Năm sản xuất</label>
                        <nz-select nzPlaceHolder="Tất cả" formControlName="manufactureYear" style="width: 100%;">
                            <nz-option nzValue="" nzLabel="Tất cả"></nz-option>

                            <nz-option *ngFor="let data of listManufactureYears" [nzValue]="data" [nzLabel]="data"></nz-option>

                        </nz-select>
                    </div>
                </div>

                <div nz-col nzSpan="3" class="mx-2">
                    <div class="">
                        <label class="form-label">Mục đích sử dụng</label>
                        <div>
                            <nz-select nzPlaceHolder="Tất cả" formControlName="indentedUse" style="width: 100%;">
                                <nz-option nzValue="" nzLabel="Tất cả"></nz-option>

                                <nz-option nzValue="1" nzLabel="Xe tuyến"></nz-option>
                                <nz-option nzValue="2" nzLabel="Xe trung chuyển"></nz-option>
                                <!-- <nz-option nzValue="" nzLabel="Tất cả"></nz-option>
                                <nz-option *ngFor="let department of listDepartment, let i =index"
                                    [nzValue]="department.id" [nzLabel]="department.name"></nz-option> -->

                            </nz-select>
                        </div>
                    </div>
                </div>
            
            </div>
        </div>

        <div class="flex justify-center m-2" style="min-width: 335px; ">
            <span>
                <button class="button" type="button" nz-button nzType="default" style="border-color: #274ea1; min-width: 160px;" type="button"
                    (click)="resetForm()">
                    <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.66667 17.5V12.5H11.3333V14.1667H18V15.8333H11.3333V17.5H9.66667ZM3 15.8333V14.1667H8V15.8333H3ZM6.33333 12.5V10.8333H3V9.16667H6.33333V7.5H8V12.5H6.33333ZM9.66667 10.8333V9.16667H18V10.8333H9.66667ZM13 7.5V2.5H14.6667V4.16667H18V5.83333H14.6667V7.5H13ZM3 5.83333V4.16667H11.3333V5.83333H3Z"
                            fill="#274EA1" />
                    </svg>

                    <span style="color: #274ea1;">
                        Xóa bộ lọc
                    </span>
                </button>
            </span>
            <span class="ml-2">
                <button class="button" type="submit" style="background-color: #274ea1; color:  #f7f7f7;" nz-button
                    nzType="default">Tìm
                    kiếm</button>
            </span>
        </div>

    </form>
    
    <div nz-row style="margin-top: 20px;" class="p-4">
        <div nz-col nzSpan="24">
            <table class="custom-table-list" style="background-color: #FCFCFC; text-align: center;">
                <tbody>
                    <tr style="background-color: #fcfcfc;">
                        <th class="list-col-1">STT</th>
                        <th class="list-col-4" style="text-align: left !important; padding-left: 10px;">BKS</th>
                        <th class="list-col-4">Loại xe</th>
                        <th class="list-col-2">Năm sản xuất</th>
                        <th class="list-col-4">SỐ Km hiện tại</th>
                        <th class="list-col-6">Lái xe</th>
    
                        <th class="list-col-5">Số lượt BDSC <span class="number_bdsc">({{inforBDSC?.totalMaintenances }})</span></th>
                        <th class="list-col-5">Tình trạng xe <span class="number_bdsc">({{inforBDSC?.totalVehicleStatuses}})</span></th>
                        <th class="list-col-5">Thời gian SC (giờ) <span class="number_bdsc">({{inforBDSC?.totalHours}})</span></th>
                        <th class="list-col-5">Công việc SC <span class="number_bdsc">({{inforBDSC?.totalWorksPerformed}})</span></th>
                        <th class="list-col-5">Vật tư thay thế <span class="number_bdsc">({{inforBDSC?.totalReplacementSupplies}})</span></th>
                        <th class="list-col-3">Tác vụ </th>

                    </tr>
                    <tr *ngFor="let data of showEmpolyeeNoData(); let i = index">
                        <td class="list-col-1">{{(pageIndex - 1) * pageSize + i + 1}}</td>
                        <td class="list-col-4" style="text-align: left !important; padding-left: 10px;">{{data.registerNo || '-'}}</td>
                        <td class="list-col-4" style="text-align: left !important; padding-left: 10px;">{{data.vehicleType || '-'}}</td>
                        <td class="list-col-2">{{data.manufacturerYear || '-'}}</td>
                        <td class="list-col-4">{{data.odometer || '-'}}</td>
                        <td class="list-col-6">{{data.driver || '-'}}</td>


                        <td class="list-col-5">{{(data.numberOfMaintenance ? data.numberOfMaintenance : 0)}}</td>
                        <td class="list-col-5">{{(data.vehicleStatuses ? data.vehicleStatuses : 0)}}</td>
                        <td class="list-col-5">{{(data.hours ? data.hours : 0)}}</td>
                        <td class="list-col-5">{{(data.worksPerformed ? data.worksPerformed : 0)}}</td>
                        <td class="list-col-5">{{(data.replacementSupplies ? data.replacementSupplies : 0)}}</td>
                        <td class="list-col-3">
                            <a  *ngIf="data.id" (click)="routerDetail(data.registerNo)" class="button_show_detail">
                                Xem chi tiết
                            </a>
                            <a *ngIf="!data.id">
                                -
                            </a>
                        </td>
                    </tr>
    
    
                </tbody>
            </table>
        </div>
    </div>
    
    
    <div style="display: flex; justify-content: center;">
        <nz-pagination
      [(nzPageIndex)]="pageIndex"
      [nzTotal]="total"
      [nzPageSize]="pageSize"
      (nzPageIndexChange)="onPageChange($event)"
      class="custom-pagination">
    </nz-pagination>
    </div>
    
    
    
    
    </div>
    
    